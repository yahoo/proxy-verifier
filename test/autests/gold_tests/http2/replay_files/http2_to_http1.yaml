meta:
  version: '1.0'
sessions:
- protocol: [ {name: http, version: 2}, {name: tls, version: 1.2, sni: test_sni}, { name: tcp }, {name: ip, version: 4} ]

  transactions:
  - all:
      headers:
        fields:
        - [ uuid, 1 ]

    client-request:
      content:
        encoding: plain
        size: 0
      headers:
        encoding: esc_json
        fields:
        - [ Accept, '*/*' ]
        - [ Accept-Language, en-us ]
        - [ Accept-Encoding, gzip ]
        - [ Host, example.data.com ]
      method: GET
      scheme: https
      url: https://example.data.com/a/path
      version: '1.1'
    proxy-request:
      # HTTP/1 on the server-side.
      protocol: [ {name: tls, version: 1.2, sni: test_sni}, { name: tcp }, {name: ip, version: 4} ]
      content:
        encoding: plain
        size: 0
      headers:
        encoding: esc_json
        fields:
        - [ Accept, '*/*' ]
        - [ Accept-Language, en-us ]
        - [ Accept-Encoding, gzip ]
        - [ Host, example.data.com ]
      method: GET
      scheme: ''
      url: /a/path
      version: '1.1'
    proxy-response:
      content:
        encoding: plain
        size: 16
      headers:
        encoding: esc_json
        fields:
        - [ Cache-Control, private ]
        - [ Content-Encoding, gzip ]
        - [ Content-Type, application/json;charset=utf-8 ]
        - [ Content-Length, '16' ]
        - [ Date, "Sat, 16 Mar 2019 01:13:21 GMT" ]
        - [ Age, '0' ]
        - [ Connection, keep-alive ]
      reason: OK
      status: 200
    server-response:
      content:
        encoding: plain
        size: 16
      headers:
        encoding: esc_json
        fields:
        - [ Cache-Control, private ]
        - [ Content-Encoding, gzip ]
        - [ Content-Type, application/json;charset=utf-8 ]
        - [ Content-Length, '16' ]
        - [ Date, "Sat, 16 Mar 2019 01:13:21 GMT" ]
        - [ Age, '0' ]
        - [ Connection, keep-alive ]
      reason: OK
      status: 200
